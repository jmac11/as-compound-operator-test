{"google":"","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"As-compound-operator-test","tagline":"A test of AS compound operators compiled with both legacy and ASC2 compilers.","body":"For some background on this issue, see [Compound Operators, New and You.](http://noiseandheat.com/blog/2010/02/compound-operators-new-and-you/) It appears that it still occurs with the new ASC2 compiler, although in a slightly different fashion.\r\n\r\nActionScript code used to create the circle:\r\n\r\n```ActionScript\r\n    private function addCircle():void {\r\n      addChild(new NumberedCircle()).x += 85;\r\n    }\r\n```\r\n\r\n## Legacy compiler\r\n![Legacy compiled version screenshot](legacy.png)\r\n\r\nRelevant bytecode:\r\n```\r\n  private function addCircle():void\r\n  {\r\n    //  derivedName  null  \r\n    //  method_info  3     \r\n    //  max_stack    3     \r\n    //  max_regs     1     \r\n    //  scope_depth  9     \r\n    //  max_scope    10    \r\n    //  code_length  30    \r\n    bb0\r\n      succs=[]\r\n      0       getlocal0                           \r\n      1       pushscope                           \r\n      2       findpropstrict  addChild            \r\n      3       findpropstrict  NumberedCircle      \r\n      4       constructprop                       \r\n      5       callproperty                        \r\n      6       findpropstrict  addChild            \r\n      7       findpropstrict  NumberedCircle      \r\n      8       constructprop                       \r\n      9       callproperty                        \r\n      10      getproperty     x                   \r\n      11      pushbyte                        85  \r\n      12      add                                 \r\n      13      setproperty     x                   \r\n      14      returnvoid                          \r\n  }\r\n```\r\n\r\n## ASC2 compiler\r\n![ASC2 compiled version screenshot](asc2.png)\r\n\r\nRelevant bytecode:\r\n```\r\n  private function addCircle():void\r\n  {\r\n    //  derivedName  addCircle  \r\n    //  method_info  2          \r\n    //  max_stack    3          \r\n    //  max_regs     1          \r\n    //  scope_depth  0          \r\n    //  max_scope    1          \r\n    //  code_length  31         \r\n    bb0\r\n      succs=[]\r\n      0       getlocal0                           \r\n      1       pushscope                           \r\n      2       findpropstrict  addChild            \r\n      3       findpropstrict  NumberedCircle      \r\n      4       constructprop                       \r\n      5       callproperty                        \r\n      6       getproperty     x                   \r\n      7       pushbyte                        85  \r\n      8       add                                 \r\n      9       findpropstrict  addChild            \r\n      10      findpropstrict  NumberedCircle      \r\n      11      constructprop                       \r\n      12      callproperty                        \r\n      13      swap                                \r\n      14      setproperty     x                   \r\n      15      returnvoid                          \r\n  }\r\n```\r\n"}
